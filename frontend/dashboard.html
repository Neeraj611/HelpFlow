<!DOCTYPE html>
<html lang="="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard | HelpFlow</title>
  <link rel="stylesheet" href="css/dashboard.css" />
  <link rel="icon" href="assets/logo.png" />
  <script src="https://kit.fontawesome.com/a2e0bf0c6d.js" crossorigin="anonymous"></script>
</head>
<body>

  <!-- Topbar -->
  <header class="topbar">
    <div class="left">
      <span class="username" id="username">Welcome!</span>
    </div>
    <div class="right">
      <a href="create-ticket.html" class="btn">+ Create Ticket</a>
      <a href="profile.html" class="btn">Profile</a>
    </div>
  </header>

  <!-- Filters -->
  <section class="filters">
    <select id="categoryFilter">
      <option value="">All Categories</option>
      <option value="Technical">Technical</option>
      <option value="Billing">Billing</option>
      <option value="Login">Login</option>
      <option value="General">General</option>
    </select>

    <select id="sortFilter">
      <option value="newest">Newest First</option>
      <option value="oldest">Oldest First</option>
      <option value="popular">Most Voted</option>
    </select>
  </section>

  <!-- Search -->
  <section class="search-section">
    <input type="text" id="searchBar" placeholder="Search tickets by keyword..." />
  </section>

  <!-- Ticket List -->
  <section id="ticketList" class="ticket-list">
    <!-- Tickets will be injected here -->
  </section>

  <!-- Pagination -->
  <section class="pagination" id="pagination">
    <!-- Page numbers injected here -->
  </section>

  <script src="js/dashboard.js"></script>
  <script>
    // Greet logged-in user
    const user = JSON.parse(localStorage.getItem("helpflowUser"));
    if (!user) {
      window.location.href = "login.html";
    } else {
      document.getElementById("username").innerText = `Welcome, ${user.name}`;
    }
  </script>
</body>
</html>
